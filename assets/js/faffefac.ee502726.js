"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4481],{1456:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var t=r(4848),s=r(8453);const i={},c=void 0,o={id:"ProvenAI - SDK/Blockchain",title:"Blockchain",description:"ProvenAIBlockchainUtil",source:"@site/docs/2. ProvenAI - SDK/3-Blockchain.md",sourceDirName:"2. ProvenAI - SDK",slug:"/ProvenAI - SDK/Blockchain",permalink:"/proven-ai/docs/ProvenAI - SDK/Blockchain",draft:!1,unlisted:!1,editUrl:"https://github.com/ctrl-space-labs/proven-ai/tree/main/provenai-documentation/docs/2. ProvenAI - SDK/3-Blockchain.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ProvenAI Docker Compose",permalink:"/proven-ai/docs/ProvenAI - SDK/ProvenAI SDK docker compose"},next:{title:"ISCC",permalink:"/proven-ai/docs/ProvenAI - SDK/ISCC"}},a={},l=[{value:"ProvenAIBlockchainUtil",id:"provenaiblockchainutil",level:2},{value:"MerkleTreeUtil",id:"merkletreeutil",level:2},{value:"Model",id:"model",level:2},{value:"Counter:",id:"counter",level:3},{value:"ProvenAIAgentUsage:",id:"provenaiagentusage",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"provenaiblockchainutil",children:"ProvenAIBlockchainUtil"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ProvenAIIssuer"}),"\nThe ProvenAIBlockchainUtil class is a utility class used to interact with specific smart contracts on the blockchain, including recording usage and retrieving smart contract data."]}),"\n",(0,t.jsx)(n.p,{children:"Attributes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"web3"}),": Manages the connection to the Ethereum blockchain."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"credentials"}),": Stores the Ethereum account private key used for signing transactions."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"contractAddress"}),": The Ethereum address of the deployed smart contract."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"provenAIAgentUsageContract"}),": Instance of the ProvenAIAgentUsage contract."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"counterContract"}),": A smart contract handling counters."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Methods:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"getEthereumPrivateKeyFromJWK"}),"\nExtracts and returns the Ethereum private key from a given JWK (JSON Web Key) string."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"getEthereumAddressFromPublicJWK"}),"\nExtracts the public key from a JWK string and returns the corresponding Ethereum address."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"getEthereumAddressFromDID"}),"\nConverts a DID (Decentralized Identifier) to an Ethereum address by extracting and decoding the public key."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"recordDailyUsage"}),"\nRecords daily usage for a specific agent or account by submitting a Merkle Root hash to the blockchain."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"getDailyUsage"}),"\nRetrieves the daily usage data for a specified agent and date from the smart contract.\nincrementCounter, getCounterValue, setCounterValue"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"isTransactionRegistered"}),"\nChecks if a transaction with a given hash has been successfully registered on the blockchain."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"merkletreeutil",children:"MerkleTreeUtil"}),"\n",(0,t.jsx)(n.p,{children:"This class provides utility methods for working with Merkle Trees. It creates a Merkle Tree from a list of data, verifying the validity of proofs, and extracting proofs for specific data elements."}),"\n",(0,t.jsx)(n.p,{children:"Methods:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"createMerkleTree"}),"\nCreates a Merkle Tree from a list of items."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"getProof"}),"\nRetrieves the proof for a specific item in the Merkle Tree."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"verifyProof"}),"\nVerifies whether a given item and proof are valid for the specified Merkle Root hash."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"model",children:"Model"}),"\n",(0,t.jsx)(n.p,{children:"This module provides two smart contract models generated by the Web3j library, representing contracts deployed on the Ethereum blockchain. They are Java representations of Ethereum smart contracts with methods for interacting with the blockchain."}),"\n",(0,t.jsx)(n.h3,{id:"counter",children:"Counter:"}),"\n",(0,t.jsx)(n.p,{children:"A smart contract that allows interaction with the contract methods such as:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getNumber()"}),": Retrieves the number stored in the contract."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"increment()"}),": Increments the stored number."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setNumber"}),": Sets a specific number.\nIt extends Web3j's Contract class and provides various constructors for initializing the contract with credentials, transaction managers, and gas providers."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"provenaiagentusage",children:"ProvenAIAgentUsage:"}),"\n",(0,t.jsx)(n.p,{children:"A contract designed to handle usage records of agents (e.g., AI agents) with functions like:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getDailyUsage"}),"(agent, date): Retrieves the usage data of an agent for a given date."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"recordDailyUsage"}),"(date, rootHash): Records the usage data for a given date."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"updateDailyUsageForAgent"}),"(agent, date, rootHash): Updates usage data for a specific agent on a specific date.\nIt also tracks ownership and allows transferring ownership with the transferOwnership(newOwner) method."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>o});var t=r(6540);const s={},i=t.createContext(s);function c(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);