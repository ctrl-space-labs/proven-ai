"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5673],{6519:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var r=n(4848),i=n(8453);const s={},d=void 0,o={id:"API Documentation/Data Pods",title:"Data Pods",description:"Create DataPod Verifiable Credential",source:"@site/docs/3. API Documentation/2-Data Pods.md",sourceDirName:"3. API Documentation",slug:"/API Documentation/Data Pods",permalink:"/proven-ai/docs/API Documentation/Data Pods",draft:!1,unlisted:!1,editUrl:"https://github.com/ctrl-space-labs/proven-ai/tree/main/provenai-documentation/docs/3. API Documentation/2-Data Pods.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Organizations",permalink:"/proven-ai/docs/API Documentation/Organizations"},next:{title:"Agents",permalink:"/proven-ai/docs/API Documentation/Agents"}},a={},l=[{value:"Create DataPod Verifiable Credential",id:"create-datapod-verifiable-credential",level:2},{value:"Prerequites",id:"prerequites",level:3},{value:"<strong>HTTP Method:</strong>",id:"http-method",level:3},{value:"<strong>URL:</strong>",id:"url",level:3},{value:"<strong>Authorization:</strong>",id:"authorization",level:3},{value:"<strong>Path Parameters:</strong>",id:"path-parameters",level:3},{value:"<strong>Request Body:</strong>",id:"request-body",level:3},{value:"<strong>Response:</strong>",id:"response",level:3}];function c(e){const t={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"create-datapod-verifiable-credential",children:"Create DataPod Verifiable Credential"}),"\n",(0,r.jsx)(t.p,{children:'This endpoint is used to creates a Data pod Ownership Credential for data pod data. To create the verifiable credential of this specific type we must set the  credentialConfigurationId to "VerifiableDataOwnershipCredential_jwt_vc_json", when sending the request with [].'}),"\n",(0,r.jsx)(t.h3,{id:"prerequites",children:"Prerequites"}),"\n",(0,r.jsx)(t.p,{children:"Issuer did and key in JWK format. In this context, provenAI is the issuer. These values are passed as environment variables."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Environment Variable"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Example Value"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"ISSUER_DID"})}),(0,r.jsx)(t.td,{children:"The Decentralized Identifier of the issuer"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"did:example:123456789abcdefghi"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"ISSUER_PRIVATE_JWK"})}),(0,r.jsx)(t.td,{children:"The JSON Web Key of the issuer in JWK format"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'{"kty":"EC","crv":"P-256","x":"...","y":"..."}'})})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"http-method",children:(0,r.jsx)(t.strong,{children:"HTTP Method:"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"POST"})}),"\n",(0,r.jsx)(t.h3,{id:"url",children:(0,r.jsx)(t.strong,{children:"URL:"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.code,{children:"/data-pods/{dataPodId}/credential-offer"})}),"\n",(0,r.jsx)(t.h3,{id:"authorization",children:(0,r.jsx)(t.strong,{children:"Authorization:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Required Authority"}),": ",(0,r.jsx)(t.code,{children:"OP_EDIT_PROVEN_AI_DATAPOD"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Condition"}),": This endpoint is protected by a ",(0,r.jsx)(t.code,{children:"@PreAuthorize"})," check, ensuring that only users with the authority ",(0,r.jsx)(t.code,{children:"OP_EDIT_PROVEN_AI_DATAPOD"})," can access it. Additionally, the ",(0,r.jsx)(t.code,{children:"dataPodId"})," is extracted using ",(0,r.jsx)(t.code,{children:"getRequestedDataPodIdFromPathVariable"})," for validation."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"path-parameters",children:(0,r.jsx)(t.strong,{children:"Path Parameters:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"dataPodId"})," (String):",(0,r.jsx)(t.br,{}),"\n","The unique identifier of the DataPod for which the Verifiable Credential offer is being created."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"request-body",children:(0,r.jsx)(t.strong,{children:"Request Body:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["No request body is needed. The ",(0,r.jsx)(t.code,{children:"dataPodId"})," is passed as a path variable."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"response",children:(0,r.jsx)(t.strong,{children:"Response:"})}),"\n",(0,r.jsxs)(t.p,{children:["The response contains the ",(0,r.jsx)(t.code,{children:"VCOfferDTO"})," object with the following fields:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsxs)(t.strong,{children:[(0,r.jsx)(t.code,{children:"id"})," (String)"]}),":",(0,r.jsx)(t.br,{}),"\n","The unique identifier of the DataPod."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsxs)(t.strong,{children:[(0,r.jsx)(t.code,{children:"credentialOfferUrl"})," (String)"]}),":",(0,r.jsx)(t.br,{}),"\n","The URL to the Verifiable Credential offer generated for the DataPod."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsxs)(t.strong,{children:[(0,r.jsx)(t.code,{children:"credentialJwt"})," (Object)"]}),":",(0,r.jsx)(t.br,{}),"\n","The signed JWT (JavaScript Web Token) representing the Verifiable Credential for the DataPod."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Also CRUD operations are available for the ",(0,r.jsx)(t.code,{children:"Data Pod"})," entity. Full API reference ",(0,r.jsx)(t.a,{href:"https://dev.proven-ai.ctrlspace.dev/proven-ai/api/v1/swagger-ui/index.html#/Data%20Pods",children:"here"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>o});var r=n(6540);const i={},s=r.createContext(i);function d(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);