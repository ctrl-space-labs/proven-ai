"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6343],{9162:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var r=n(4848),s=n(8453);const t={sidebar_position:1},o="4.1 Introduction",d={id:"SSI Issuer & Verifier/Setup -Issuer-and-Verifiers",title:"4.1 Introduction",description:"ProvenAI is a platform that enables you to create, manage, and verify self-sovereign identities (SSI) for your users.",source:"@site/docs/4. SSI Issuer & Verifier/Setup -Issuer-and-Verifiers.md",sourceDirName:"4. SSI Issuer & Verifier",slug:"/SSI Issuer & Verifier/Setup -Issuer-and-Verifiers",permalink:"/proven-ai/docs/SSI Issuer & Verifier/Setup -Issuer-and-Verifiers",draft:!1,unlisted:!1,editUrl:"https://github.com/ctrl-space-labs/proven-ai/tree/main/provenai-documentation/docs/4. SSI Issuer & Verifier/Setup -Issuer-and-Verifiers.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Translate your site",permalink:"/proven-ai/docs/tutorial-extras/translate-your-site"},next:{title:"4.1.Issuer",permalink:"/proven-ai/docs/SSI Issuer & Verifier/4.1.Issuer"}},l={},c=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Steps",id:"steps",level:2},{value:"1. Cloning the walt.id Indentity Repository",id:"1-cloning-the-waltid-indentity-repository",level:3},{value:"2. Setup Services",id:"2-setup-services",level:3},{value:"Port Mapping",id:"port-mapping",level:2},{value:"4.3 Credential Issuance API",id:"43-credential-issuance-api",level:2},{value:"Route: POST <code>/openid4vc/jwt/issue</code>",id:"route-post-openid4vcjwtissue",level:3},{value:"Description",id:"description",level:3},{value:"RequestBody",id:"requestbody",level:3},{value:"Response",id:"response",level:3},{value:"Example value:",id:"example-value",level:4},{value:"4.4 Credential Verification API",id:"44-credential-verification-api",level:2},{value:"Route: POST <code>/openid4vc/verify</code>",id:"route-post-openid4vcverify",level:3},{value:"Description",id:"description-1",level:3},{value:"RequestBody",id:"requestbody-1",level:3},{value:"HTTP Headers",id:"http-headers",level:3},{value:"<code>authorizeBaseUrl</code>",id:"authorizebaseurl",level:4},{value:"<code>responseMode</code>",id:"responsemode",level:4},{value:"<code>successRedirectUri</code>",id:"successredirecturi",level:4},{value:"<code>errorRedirectUri</code>",id:"errorredirecturi",level:4},{value:"Response",id:"response-1",level:3},{value:"Example value:",id:"example-value-1",level:4}];function a(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h1,{id:"41-introduction",children:"4.1 Introduction"}),"\n",(0,r.jsx)(i.p,{children:"ProvenAI is a platform that enables you to create, manage, and verify self-sovereign identities (SSI) for your users.\nTo Issue and verify credentials, you need to set up Issuers and Verifiers. This guide will walk you through the process of setting up Issuers and Verifiers on ProvenAI."}),"\n",(0,r.jsx)(i.p,{children:"The Walt.id platform is a self-sovereign identity (SSI) platform that enables you to create, manage, and verify self-sovereign identities for your users. To issue and verify credentials, you need to set up Issuers and Verifiers.\nThis guide will walk you through the process of setting up Issuers and Verifiers on Walt.id."}),"\n",(0,r.jsx)(i.h1,{id:"42-setup-waltid-services",children:"4.2 Setup WaltId Services"}),"\n",(0,r.jsx)(i.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,r.jsx)(i.p,{children:"Install Docker on your machine."}),"\n",(0,r.jsx)(i.h2,{id:"steps",children:"Steps"}),"\n",(0,r.jsx)(i.h3,{id:"1-cloning-the-waltid-indentity-repository",children:"1. Cloning the walt.id Indentity Repository"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"git clone https://github.com/walt-id/waltid-identity.git && cd waltid-identity\n"})}),"\n",(0,r.jsx)(i.h3,{id:"2-setup-services",children:"2. Setup Services"}),"\n",(0,r.jsx)(i.p,{children:"With the wallt.id identity package we can now run all APIs with docker:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"cd docker-compose && docker-compose up\n"})}),"\n",(0,r.jsx)(i.h2,{id:"port-mapping",children:"Port Mapping"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Issuer API: ",(0,r.jsx)(i.a,{href:"http://localhost:7002",children:"http://localhost:7002"})]}),"\n",(0,r.jsxs)(i.li,{children:["Verifier API: ",(0,r.jsx)(i.a,{href:"http://localhost:7003",children:"http://localhost:7003"})]}),"\n",(0,r.jsxs)(i.li,{children:["Wallet API: ",(0,r.jsx)(i.a,{href:"http://localhost:7001",children:"http://localhost:7001"})]}),"\n",(0,r.jsxs)(i.li,{children:["Web Wallet (Frontend): ",(0,r.jsx)(i.a,{href:"http://localhost:7101",children:"http://localhost:7101"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"43-credential-issuance-api",children:"4.3 Credential Issuance API"}),"\n",(0,r.jsxs)(i.h3,{id:"route-post-openid4vcjwtissue",children:["Route: POST ",(0,r.jsx)(i.code,{children:"/openid4vc/jwt/issue"})]}),"\n",(0,r.jsx)(i.h3,{id:"description",children:"Description"}),"\n",(0,r.jsx)(i.p,{children:"This API enables the issuance of a credential utilizing the OID4CI protocol to issue a signed credential. It generates a credential offer url that can be imported to any OID compliant wallet to receive the credential."}),"\n",(0,r.jsx)(i.h3,{id:"requestbody",children:"RequestBody"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"VerifiableCredential"}),": The verifiable credential to be issued in json format.","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Type: Json Node"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"response",children:"Response"}),"\n",(0,r.jsx)(i.p,{children:"The credential offer URL of the credential to be issued."}),"\n",(0,r.jsx)(i.h4,{id:"example-value",children:"Example value:"}),"\n",(0,r.jsx)(i.p,{children:"openid-credential-offer://localhost/?credential_offer=%7B%22credential_issuer%22%3A%22http%3A%2F%2Flocalhost%3A8000%22%2C%22credentials%22%3A%5B%22VerifiableId%22%5D%2C%22grants%22%3A%7B%22authorization_code%22%3A%7B%22issuer_state%22%3A%22501414a4-c461-43f0-84b2-c628730c7c02%22%7D%7D%7D"}),"\n",(0,r.jsx)(i.h2,{id:"44-credential-verification-api",children:"4.4 Credential Verification API"}),"\n",(0,r.jsxs)(i.h3,{id:"route-post-openid4vcverify",children:["Route: POST ",(0,r.jsx)(i.code,{children:"/openid4vc/verify"})]}),"\n",(0,r.jsx)(i.h3,{id:"description-1",children:"Description"}),"\n",(0,r.jsx)(i.p,{children:"This API initialized an OIDC presentation session, given a presentation definition. The URL returned can be rendered as QR code for the holder."}),"\n",(0,r.jsx)(i.h3,{id:"requestbody-1",children:"RequestBody"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Presentation Definition"}),": The verifiable presentation in json format.  It describes the presentation requirement for this verification session and contains the VP, global VC and specific VC, that will be checked for the credntial to be verified.","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Type: Json Node"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"http-headers",children:"HTTP Headers"}),"\n",(0,r.jsx)(i.h4,{id:"authorizebaseurl",children:(0,r.jsx)(i.code,{children:"authorizeBaseUrl"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description:"})," Base URL of the wallet authorize endpoint used in OIDC sessions (defaults to ",(0,r.jsx)(i.code,{children:"openid4vp://authorize"}),")."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Value:"})," ",(0,r.jsx)(i.code,{children:"openid4vp://authorize"})]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"responsemode",children:(0,r.jsx)(i.code,{children:"responseMode"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description:"})," Response mode for the OIDC presentation session."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Value:"})," ",(0,r.jsx)(i.code,{children:"direct_post"})," indicating the response should be returned directly via HTTP POST."]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"successredirecturi",children:(0,r.jsx)(i.code,{children:"successRedirectUri"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description:"})," Redirect URI to return upon successful verification."]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"errorredirecturi",children:(0,r.jsx)(i.code,{children:"errorRedirectUri"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description:"})," Redirect URI to return when a policy fails."]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["The error and success URIS are set in the ",(0,r.jsx)(i.code,{children:"SSIConstants"}),' class. The "$id" will be replaced with the session id.']}),"\n",(0,r.jsx)(i.h3,{id:"response-1",children:"Response"}),"\n",(0,r.jsx)(i.p,{children:"The verification URL containing the presentation definition. We can provide the URL or the QR code rendered in the wallet to verify Verifiable Credentials against the presentation definition provided. When the verification is successful we will be redirected to the successRedirectUri. If the verification fails, meaning none of the Verifiable Credentials in our wallet fullfill the presentation definition provided, we will be redirected to the errorRedirectUri."}),"\n",(0,r.jsx)(i.h4,{id:"example-value-1",children:"Example value:"}),"\n",(0,r.jsx)(i.p,{children:"openid4vp://authorize?response_type=vp_token&client_id=&response_mode=direct_post&state=M4d9Xz2e073Z&presentation_definition_uri=http%3A%2F%2Fverifier-api%3A7003%2Fopenid4vc%2Fpd%2FM4d9Xz2e073Z&client_id_scheme=redirect_uri&response_uri=http%3A%2F%2Fverifier-api%3A7003%2Fopenid4vc%2Fverify%2FM4d9Xz2e073Z"})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>d});var r=n(6540);const s={},t=r.createContext(s);function o(e){const i=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);