"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2714],{7914:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>x,frontMatter:()=>r,metadata:()=>c,toc:()=>h});var d=s(4848),i=s(8453);const r={},t="Keycloak",c={id:"Getting Started/Keycloak-Configuration",title:"Keycloak",description:"Introduction",source:"@site/docs/1. Getting Started/5-Keycloak-Configuration.md",sourceDirName:"1. Getting Started",slug:"/Getting Started/Keycloak-Configuration",permalink:"/proven-ai/docs/Getting Started/Keycloak-Configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/ctrl-space-labs/proven-ai/tree/main/provenai-documentation/docs/1. Getting Started/5-Keycloak-Configuration.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Environment Variables",permalink:"/proven-ai/docs/Getting Started/Environment-Variables"},next:{title:"Introduction",permalink:"/proven-ai/docs/ProvenAI - SDK/Getting-Started-SDK"}},l={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Step 1: Clone the gendox-core repository",id:"step-1-clone-the-gendox-core-repository",level:3},{value:"Step 2: Start keycloak server",id:"step-2-start-keycloak-server",level:3},{value:"Keycloak server setup with docker",id:"keycloak-server-setup-with-docker",level:4},{value:"Step 3: Setup keycloak clients and realm",id:"step-3-setup-keycloak-clients-and-realm",level:3},{value:"Prerequisites:",id:"prerequisites",level:4},{value:"Step 4: Create keycloak admin user",id:"step-4-create-keycloak-admin-user",level:3},{value:"Step 5: Create <code>gendox-idp-dev</code> realm",id:"step-5-create-gendox-idp-dev-realm",level:3},{value:"Step 6: Fill in admin user information",id:"step-6-fill-in-admin-user-information",level:3},{value:"Step 7: Configure realm clients",id:"step-7-configure-realm-clients",level:3},{value:"Step 8: Create role users",id:"step-8-create-role-users",level:3},{value:"Step 9: Modify Realm Settings",id:"step-9-modify-realm-settings",level:3},{value:"Step 10: Authentication Settings",id:"step-10-authentication-settings",level:3},{value:"Step 11: Keycloak environment variables and application properties",id:"step-11-keycloak-environment-variables-and-application-properties",level:3},{value:"Step 12: Create <code>proven-ai-private-client</code> and users",id:"step-12-create-proven-ai-private-client-and-users",level:3},{value:"Manual keycloak server setup",id:"manual-keycloak-server-setup",level:4}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"keycloak",children:"Keycloak"}),"\n",(0,d.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"https://www.keycloak.org/documentation",children:"Keycloak"})," is an open source software product to allow single sign-on with identity and access management. Keycloak supports various protocols such as OpenID, OAuth version 2.0 and SAML and provides features such as user management, two-factor authentication, permissions and roles management, creating token services. The provenAI ecosystem uses keycloak for authentication and authorization, enabling secure access to its services. Configuring Keycloak, can be a complex task due to its wide range of customization options. However, we choose to use Keycloak because of its many benefits, including its support for industry-standard protocols, comprehensive user management, and the secure token-base authentication Additionally, being open-source, Keycloak offers flexibility and cost-effectiveness, making it a powerful tool for identity and access management."]}),"\n",(0,d.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,d.jsx)(n.h3,{id:"step-1-clone-the-gendox-core-repository",children:"Step 1: Clone the gendox-core repository"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/ctrl-space-labs/gendox-core.git\n"})}),"\n",(0,d.jsx)(n.h3,{id:"step-2-start-keycloak-server",children:"Step 2: Start keycloak server"}),"\n",(0,d.jsx)(n.h4,{id:"keycloak-server-setup-with-docker",children:"Keycloak server setup with docker"}),"\n",(0,d.jsxs)(n.p,{children:["All provenAI services can be set up with docker installation by following the instructions provided ",(0,d.jsx)(n.a,{href:"../Getting%20Started/Environment-Variables",children:"here"}),". When the docker-compose for all the services is built and running you can access the keycloak admin console at ",(0,d.jsx)(n.code,{children:"http://localhost:8880"})," or ",(0,d.jsx)(n.code,{children:"https://localhost:8443"}),". You will need to log in with the username and password you created on ",(0,d.jsx)(n.a,{href:"./Keycloak-Configuration#step-4-create-keycloak-admin-user",children:"step 4"})," or by following the script instructions on ",(0,d.jsx)(n.a,{href:"./Keycloak-Configuration#step-3-setup-keycloak-clients-and-realm",children:"step 3"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"step-3-setup-keycloak-clients-and-realm",children:"Step 3: Setup keycloak clients and realm"}),"\n",(0,d.jsxs)(n.p,{children:["A script has been developed to create the ",(0,d.jsx)(n.code,{children:"gendox-idp-dev"})," realm and configure all the necessary clients for the provenAI ecosystem. The ",(0,d.jsx)(n.code,{children:"gendox-local-init.sh"})," is responsible for:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Logging into Keycloak with admin credentials."}),"\n",(0,d.jsxs)(n.li,{children:["Creating the ",(0,d.jsx)(n.code,{children:"gendox-idp-dev"})," realm."]}),"\n",(0,d.jsx)(n.li,{children:"Creating PKCE and private clients."}),"\n",(0,d.jsxs)(n.li,{children:["Assigning roles to private clients' service accounts.\nIt also executes the ",(0,d.jsx)(n.code,{children:"kcadm.sh"})," that is responsible for:"]}),"\n",(0,d.jsx)(n.li,{children:"Setting the correct java executable."}),"\n",(0,d.jsx)(n.li,{children:"Executing the Keycloak Admin CLI."}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"prerequisites",children:"Prerequisites:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Linux/MacOS or Windows with WSL"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"java"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"jq"})," (for JSON parsing)"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["If you are running it with windows and WSL ",(0,d.jsx)(n.code,{children:"dos2unix"})," might be needed."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["Access ",(0,d.jsx)(n.code,{children:"conf"})," folder of ",(0,d.jsx)(n.code,{children:"gendox-keycloak"})]})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd  ../gendox-core/gendox-keycloak/conf\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"If you execute the command on WSL with Windows"}),"\nSkip this step if you are using Linux/MacOs. We use this package to convert text files with DOS (Windows) line endings (e.g. \\r\\n) into Unix/Linux line endings."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"dos2unix ../bin/kcadm.sh\ndos2unix ./gendox-local-init.sh\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"Make the shell files executable"})}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"chmod +x ../bin/kcadm.sh\nchmod +x ./gendox-local-init.sh\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"Execute the shell files"})}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"bash ../bin/kcadm.sh\nbash ./gendox-local-init.sh\n"})}),"\n",(0,d.jsx)(n.p,{children:"By executing this script you can skip steps 3-6 of the keycloak configuration which speeds up the setup process."}),"\n",(0,d.jsx)(n.h3,{id:"step-4-create-keycloak-admin-user",children:"Step 4: Create keycloak admin user"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Go to the Keycloak admin console at ",(0,d.jsx)(n.code,{children:"http://localhost:8880"})]}),"\n",(0,d.jsx)(n.li,{children:"Create an administrative user. You need to set the username and password for the admin user."}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"step-5-create-gendox-idp-dev-realm",children:["Step 5: Create ",(0,d.jsx)(n.code,{children:"gendox-idp-dev"})," realm"]}),"\n",(0,d.jsxs)(n.p,{children:["Open the Administration Consoler after creating the admin user. There is a default ",(0,d.jsx)(n.code,{children:"master"})," realm created. Click on create realm and enter as name ",(0,d.jsx)(n.code,{children:"gendox-idp-dev"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"step-6-fill-in-admin-user-information",children:"Step 6: Fill in admin user information"}),"\n",(0,d.jsxs)(n.p,{children:["Switch to ",(0,d.jsx)(n.code,{children:"master"})," real and under the ",(0,d.jsx)(n.code,{children:"Users"})," you will se the admin user. Fill in the email of the user as well as the first and last name of the user."]}),"\n",(0,d.jsx)(n.h3,{id:"step-7-configure-realm-clients",children:"Step 7: Configure realm clients"}),"\n",(0,d.jsxs)(n.p,{children:["Navigate to ",(0,d.jsx)(n.code,{children:"clients"})," to configure clients settings."]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Create ",(0,d.jsx)(n.code,{children:"gendox-pkce-public-client-local"})," client. Fill in the client information with the following values:"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"General settings"})}),(0,d.jsx)(n.td,{children:"Client ID *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"gendox-pkce-public-client-local"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Name"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Local Gendox PKCE client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Description"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"PKCE Public Client for gendox"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Always display in UI"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Access settings"})}),(0,d.jsx)(n.td,{children:"Root URL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3000"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Home URL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3000/gendox/home"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Valid redirect URIs"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3000/*"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Valid post logout redirect URIs"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3000/login"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Web origins"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3000"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Admin URL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3000"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Capability config"})}),(0,d.jsx)(n.td,{children:"Client authentication"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authorization"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Standard flow"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Direct access grants"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Direct access grants"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Implicit flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"OAuth 2.0 Device Authorization Grant"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"We also need to modify the following under advanced settings:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Advanced Settings"})}),(0,d.jsx)(n.td,{children:"Proof Key for Code Exchange Code Challenge Method"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"S256"})})]})})]}),"\n",(0,d.jsxs)(n.p,{children:["We note here that ",(0,d.jsx)(n.code,{children:"3000"})," is the port for gendox frontend."]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Create ",(0,d.jsx)(n.code,{children:"gendox-private-client"})," client. Fill in the client information with the following values:"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"General settings"})}),(0,d.jsx)(n.td,{children:"Client ID *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"gendox-private-client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Name"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Gendox Private Client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Always display in UI"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Access settings"})}),(0,d.jsx)(n.td,{children:"Valid redirect URIs"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:8080/*"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Web origins"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:8080"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Capability config"})}),(0,d.jsx)(n.td,{children:"Client authentication"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authorization"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Standard flow"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Direct access grants"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Direct access grants"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Implicit flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"OAuth 2.0 Device Authorization Grant"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["We note here that ",(0,d.jsx)(n.code,{children:"8080"})," is the port for gendox backend."]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Create ",(0,d.jsx)(n.code,{children:"gendox-private-client"})," client. Fill in the client information with the following values:"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"General settings"})}),(0,d.jsx)(n.td,{children:"Client ID *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"gendox-public-client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Name"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"gendox-public-client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Description"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Public client to use in the frontend!"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Always display in UI"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Access settings"})}),(0,d.jsx)(n.td,{children:"Valid redirect URIs"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:8080/*"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Web origins"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:8080"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Capability config"})}),(0,d.jsx)(n.td,{children:"Client authentication"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authorization"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Standard flow"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Direct access grants"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Service accounts roles"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Direct access grants"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Implicit flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"OAuth 2.0 Device Authorization Grant"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["We note here that ",(0,d.jsx)(n.code,{children:"8080"})," is the port for gendox backend."]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"gendox private client",src:s(2957).A+"",width:"1052",height:"562"})}),"\n",(0,d.jsxs)(n.p,{children:["Under the ",(0,d.jsx)(n.code,{children:"Service account roles"})," we need to assign the following roles:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"manage-users"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"impersonation"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"view-users"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"query-users"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Create ",(0,d.jsx)(n.code,{children:"proven-ai-pkce-client"})," client. Fill in the client information with the following values:"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"General settings"})}),(0,d.jsx)(n.td,{children:"Client ID *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"proven-ai-pkce-client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Always display in UI"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Access settings"})}),(0,d.jsx)(n.td,{children:"Valid redirect URIs"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/*"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Web origins"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/*"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Capability config"})}),(0,d.jsx)(n.td,{children:"Client authentication"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authorization"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Standard flow"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Direct access grants"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Direct access grants"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Implicit flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"OAuth 2.0 Device Authorization Grant"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"We also need to modify the following under advanced settings:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Advanced Settings"})}),(0,d.jsx)(n.td,{children:"Proof Key for Code Exchange Code Challenge Method"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"H256"})})]})})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Create ",(0,d.jsx)(n.code,{children:"proven-ai-private-client"})," client. Fill in the client information with the following values:"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"General settings"})}),(0,d.jsx)(n.td,{children:"Client ID *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"proven-ai-private-client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Name"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ProvenAI Private Client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Always display in UI"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Access settings"})}),(0,d.jsx)(n.td,{children:"Valid redirect URIs"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/*"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Web origins"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/*"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Capability config"})}),(0,d.jsx)(n.td,{children:"Client authentication"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authorization"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Standard flow"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Direct access grants"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Service accounts roles"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Direct access grants"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Implicit flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"OAuth 2.0 Device Authorization Grant"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["Then create the following role under the ",(0,d.jsx)(n.code,{children:"Roles"})," section:"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Role name *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"uma_protection"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Description"}),(0,d.jsx)(n.td,{})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["Under the ",(0,d.jsx)(n.code,{children:"Service account roles"})," we need to assign the following roles:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"manage-users"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"impersonation"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"view-users"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"query-users"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"uma_protection"})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"Service account roles",src:s(8712).A+"",width:"1862",height:"582"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Create ",(0,d.jsx)(n.code,{children:"proven-pkce-public-client-local"})," client. Fill in the client information with the following values:"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"General settings"})}),(0,d.jsx)(n.td,{children:"Client ID *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"proven-pkce-public-client-local"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Name"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Local Gendox PKCE client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Description"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"PKCE Public Client for gendox"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Always display in UI"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Access settings"})}),(0,d.jsx)(n.td,{children:"Root URL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3001"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Home URL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3001/gendox/home"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Valid redirect URIs"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3001/*"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Valid post logout redirect URIs"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3001/login"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Web origins"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3001"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Admin URL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://localhost:3001"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Capability config"})}),(0,d.jsx)(n.td,{children:"Client authentication"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authorization"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Standard flow"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Authentication flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Direct access grants"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Direct access grants"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Implicit flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"OAuth 2.0 Device Authorization Grant"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["We note here that ",(0,d.jsx)(n.code,{children:"3001"})," is the port for provenAI frontend.\nWe also need to modify the following under advanced settings:"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Advanced Settings"})}),(0,d.jsx)(n.td,{children:"Proof Key for Code Exchange Code Challenge Method"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"H256"})})]})})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"Keycloak clients",src:s(6730).A+"",width:"1911",height:"706"})}),"\n",(0,d.jsx)(n.h3,{id:"step-8-create-role-users",children:"Step 8: Create role users"}),"\n",(0,d.jsxs)(n.p,{children:["In the section ",(0,d.jsx)(n.strong,{children:"Realm roles"})," create the role ",(0,d.jsx)(n.code,{children:"user"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Name *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"user"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Description"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"This is a role for users"})})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"step-9-modify-realm-settings",children:"Step 9: Modify Realm Settings"}),"\n",(0,d.jsxs)(n.p,{children:["Under the section ",(0,d.jsx)(n.strong,{children:"Realm settings"})," configure the following settings:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"General"}),"\nEnable ",(0,d.jsx)(n.code,{children:"Unmanaged Attributes"})]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Login"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Login screen customization"})}),(0,d.jsx)(n.td,{children:"User registration"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Forgot password"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Remember me"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Email settings"})}),(0,d.jsx)(n.td,{children:"Email as username"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Login with email"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Duplicate emails"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Verify email"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"User info settings"})}),(0,d.jsx)(n.td,{children:"Edit username"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]})]})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Email"}),"\nIf you want to enable email verification and other functionalities that require an email address you can configure the email settings below:"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Template"})}),(0,d.jsx)(n.td,{children:"From *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"your-email-address"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Connection & Authentication"})}),(0,d.jsx)(n.td,{children:"Host *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"your-smtp-host"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Port"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"your-smtp-port"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Encryption"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"your-encryption"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Enable SSL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Off"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Enable StartTLS"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Authentication"})}),(0,d.jsx)(n.td,{children:"Enabled"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]})]})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Theme"}),"\nSelect as login theme ",(0,d.jsx)(n.code,{children:"gendox"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Keys"}),"\nSwitch to Add providers. Add ",(0,d.jsx)(n.code,{children:"hmac-generated"}),":"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Edit provider"})}),(0,d.jsx)(n.td,{children:"Name *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"hmac-generated"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Priority"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"100"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Priority for the provider"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"your-priority-description"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Algorithm"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"HS256"})})]})]})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"Sessions"})}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"SSO Session Settings"})}),(0,d.jsx)(n.td,{children:"SSO Session Idle"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"12 Hours"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"SSO Session Max"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"1 Day"})})]})]})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"Tokens"})}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Access Tokens"})}),(0,d.jsx)(n.td,{children:"Access Token Lifespan"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"1 Hour"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Access Token Lifespan For Implicit Flow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"12 Hours"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"Client Login Timeout"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"your-login-timeout"})})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"tokens",src:s(8865).A+"",width:"1265",height:"456"})}),"\n",(0,d.jsx)(n.h3,{id:"step-10-authentication-settings",children:"Step 10: Authentication Settings"}),"\n",(0,d.jsxs)(n.p,{children:["We need to create a ",(0,d.jsx)(n.code,{children:"Copy of registration"})," flow on flows:"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Category"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Create Flow"})}),(0,d.jsx)(n.td,{children:"Name *"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Copy of registration"})})]})})]}),"\n",(0,d.jsx)(n.p,{children:"Next we need to configure the flows."}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Click on registration flow and duplicate it."}),"\n",(0,d.jsxs)(n.li,{children:["On the Copy of registration set ",(0,d.jsx)(n.code,{children:"Terms&Conditions"})," to ",(0,d.jsx)(n.code,{children:"Required"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["Under Action select ",(0,d.jsx)(n.code,{children:"Bind flow"}),". Choose as binding type as ",(0,d.jsx)(n.code,{children:"Registration flow"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["Switch to ",(0,d.jsx)(n.code,{children:"Keycloak master"})," realm and repeat this process."]}),"\n",(0,d.jsxs)(n.p,{children:["Next switch to ",(0,d.jsx)(n.code,{children:"Required actions"}),". You will need to change the following values:"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Field"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"Value"})})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Terms and Conditions"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"On"})})]})})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"Registration",src:s(6772).A+"",width:"1387",height:"728"})}),"\n",(0,d.jsx)(n.h3,{id:"step-11-keycloak-environment-variables-and-application-properties",children:"Step 11: Keycloak environment variables and application properties"}),"\n",(0,d.jsx)(n.p,{children:"AFter configuring keycloak you will need to update the environment variables:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Environment Variable"}),(0,d.jsx)(n.th,{children:"Example value"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"KEYCLOAK_CLIENT_ID"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"gendox-private-client"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"KEYCLOAK_CLIENT_SECRET"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"**********"})})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["The ",(0,d.jsx)(n.code,{children:"KEYCLOAK_CLIENT_SECRET"})," is found on the ",(0,d.jsx)(n.code,{children:"credentials"})," tab on the ",(0,d.jsx)(n.code,{children:"gendox-private-client"})," client."]}),"\n",(0,d.jsxs)(n.h3,{id:"step-12-create-proven-ai-private-client-and-users",children:["Step 12: Create ",(0,d.jsx)(n.code,{children:"proven-ai-private-client"})," and users"]}),"\n",(0,d.jsxs)(n.p,{children:["For the interaction between the Gendox and ProvenAI services we must create a user in the database for ",(0,d.jsx)(n.code,{children:"proven-ai-private-client"})," and, following the steps below:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Implement client log in to Keycloak:"}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8880/idp/realms/gendox-idp-dev/protocol/openid-connect/token" \\\n     -H "Content-Type: application/x-www-form-urlencoded" \\\n     -d "grant_type=client_credentials" \\\n     -d "client_id=proven-ai-private-client" \\\n     -d "client_secret=your-proven-secret"\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Get profile to store ",(0,d.jsx)(n.code,{children:"proven-ai-private-client"}),":\nAfter receiving the client token you will get the user profile. This API will register the ",(0,d.jsx)(n.code,{children:"proven-ai-private-client"})," as a user in the database. Now the client can interact with other services of the provenAI ecosystem."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8080/gendox/api/v1/profile" \\\n     -H "Authorization: proven-ai-private-client token"\\\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Change user type to ",(0,d.jsx)(n.code,{children:"SUPER_ADMIN"}),":","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Go in the database in ",(0,d.jsx)(n.code,{children:"user"})," table."]}),"\n",(0,d.jsxs)(n.li,{children:["Find the ",(0,d.jsx)(n.code,{children:"proven-ai-private-client"})," user. The user has username ",(0,d.jsx)(n.code,{children:"service-account-proven-ai-private-client"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["Change the ",(0,d.jsx)(n.code,{children:"type_id"})," to the id corresponding to type ",(0,d.jsx)(n.code,{children:"SUPER_ADMIN"}),". You can find the id on the ",(0,d.jsx)(n.code,{children:"types"})," table."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"manual-keycloak-server-setup",children:"Manual keycloak server setup"}),"\n",(0,d.jsx)(n.p,{children:"You could also manually start Keycloak in development mode. From gendox-core"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd ./gendox-keycloak\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Linux/MacOS"}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"bin/kc.sh start-dev --http-port=8880\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Windows"}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"bin\\kc.bat start-dev --http-port=8880\n"})}),"\n",(0,d.jsx)(n.p,{children:"You can also configure any other port to run the keycloak server."})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},6730:(e,n,s)=>{s.d(n,{A:()=>d});const d=s.p+"assets/images/client-db0872d92d8552cd5c21542a48d84df6.png"},2957:(e,n,s)=>{s.d(n,{A:()=>d});const d=s.p+"assets/images/gendoxclient-d41a73e64bb3d321bfd27ec1da9ec132.png"},6772:(e,n,s)=>{s.d(n,{A:()=>d});const d=s.p+"assets/images/registration-ecb3fa76baab05eac6f85454a344d916.png"},8712:(e,n,s)=>{s.d(n,{A:()=>d});const d=s.p+"assets/images/service_account_roles-d04ef836a35e7f74e5c2b696f8c3de5c.png"},8865:(e,n,s)=>{s.d(n,{A:()=>d});const d=s.p+"assets/images/tokens-84400d8b60e84ac2b86a6545478ac41f.png"},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var d=s(6540);const i={},r=d.createContext(i);function t(e){const n=d.useContext(r);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),d.createElement(r.Provider,{value:n},e.children)}}}]);